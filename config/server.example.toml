# oxmon Server Configuration

# gRPC port for receiving metrics from agents
grpc_port = 9090

# HTTP port for REST API
http_port = 8080

# Directory for metric data storage (SQLite partition files)
data_dir = "data"

# How many days to retain metric data
retention_days = 7

# Require agent authentication (default: false)
require_agent_auth = false

# REST API Authentication (JWT)
[auth]
jwt_secret = "your-secret-key-here"
token_expire_secs = 86400       # Token validity period (default: 24 hours)
default_username = "admin"      # Default admin username
default_password = "changeme"   # Default admin password (change this!)

# Alert Rules
# Managed via REST API or CLI: oxmon-server init-rules <config> <seed.json>
# See config/rules.seed.example.json for examples

# Notification Channels
# Managed via REST API or CLI: oxmon-server init-channels <config> <seed.json>
# See config/channels.seed.example.json for examples
# Supported types: email, webhook, sms_aliyun, sms_tencent, sms_generic, dingtalk, weixin

# Certificate Check Configuration
[cert_check]
enabled = true
default_interval_secs = 86400   # Default check interval (24 hours)
tick_secs = 60                  # Scheduler tick interval
connect_timeout_secs = 10       # TLS connection timeout per domain
max_concurrent = 10              # Max concurrent TLS connections
